"use strict";(()=>{var ye=Float32Array;function Ee(e,t,n){let c=new ye(3);return e&&(c[0]=e),t&&(c[1]=t),n&&(c[2]=n),c}function Zt(e,t,n){return n=n||new ye(3),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Qt(e,t,n){return n=n||new ye(3),n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}var Xe=Float32Array;function Jt(e){return e=e||new Xe(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function en(e,t){t=t||new Xe(16);let n=e[0*4+0],c=e[0*4+1],r=e[0*4+2],o=e[0*4+3],a=e[1*4+0],i=e[1*4+1],f=e[1*4+2],u=e[1*4+3],m=e[2*4+0],y=e[2*4+1],s=e[2*4+2],l=e[2*4+3],E=e[3*4+0],x=e[3*4+1],A=e[3*4+2],p=e[3*4+3],h=s*p,S=A*l,R=f*p,_=A*u,F=f*l,C=s*u,I=r*p,P=A*o,w=r*l,M=s*o,G=r*u,L=f*o,d=m*x,$=E*y,H=a*x,X=E*i,W=a*y,Y=m*i,Z=n*x,Q=E*c,J=n*y,ee=m*c,te=n*i,ne=a*c,Oe=h*i+_*y+F*x-(S*i+R*y+C*x),ze=S*c+I*y+M*x-(h*c+P*y+w*x),Ge=R*c+P*i+G*x-(_*c+I*i+L*x),ve=C*c+w*i+L*y-(F*c+M*i+G*y),N=1/(n*Oe+a*ze+m*Ge+E*ve);return t[0]=N*Oe,t[1]=N*ze,t[2]=N*Ge,t[3]=N*ve,t[4]=N*(S*a+R*m+C*E-(h*a+_*m+F*E)),t[5]=N*(h*n+P*m+w*E-(S*n+I*m+M*E)),t[6]=N*(_*n+I*a+L*E-(R*n+P*a+G*E)),t[7]=N*(F*n+M*a+G*m-(C*n+w*a+L*m)),t[8]=N*(d*u+X*l+W*p-($*u+H*l+Y*p)),t[9]=N*($*o+Z*l+ee*p-(d*o+Q*l+J*p)),t[10]=N*(H*o+Q*u+te*p-(X*o+Z*u+ne*p)),t[11]=N*(Y*o+J*u+ne*l-(W*o+ee*u+te*l)),t[12]=N*(H*s+Y*A+$*f-(W*A+d*f+X*s)),t[13]=N*(J*A+d*r+Q*s-(Z*s+ee*A+$*r)),t[14]=N*(Z*f+ne*A+X*r-(te*A+H*r+Q*f)),t[15]=N*(te*s+W*r+ee*f-(J*f+ne*s+Y*r)),t}function tn(e,t,n){n=n||Ee();let c=t[0],r=t[1],o=t[2],a=c*e[0*4+3]+r*e[1*4+3]+o*e[2*4+3]+e[3*4+3];return n[0]=(c*e[0*4+0]+r*e[1*4+0]+o*e[2*4+0]+e[3*4+0])/a,n[1]=(c*e[0*4+1]+r*e[1*4+1]+o*e[2*4+1]+e[3*4+1])/a,n[2]=(c*e[0*4+2]+r*e[1*4+2]+o*e[2*4+2]+e[3*4+2])/a,n}function nn(e,t,n){n=n||Ee();let c=t[0],r=t[1],o=t[2];return n[0]=c*e[0*4+0]+r*e[1*4+0]+o*e[2*4+0],n[1]=c*e[0*4+1]+r*e[1*4+1]+o*e[2*4+1],n[2]=c*e[0*4+2]+r*e[1*4+2]+o*e[2*4+2],n}var Te=5120,q=5121,Ae=5122,_e=5123,pe=5124,be=5125,he=5126,rn=32819,on=32820,cn=33635,an=5131,fn=33640,un=35899,sn=35902,ln=36269,mn=34042,xn={};{let e=xn;e[Te]=Int8Array,e[q]=Uint8Array,e[Ae]=Int16Array,e[_e]=Uint16Array,e[pe]=Int32Array,e[be]=Uint32Array,e[he]=Float32Array,e[rn]=Uint16Array,e[on]=Uint16Array,e[cn]=Uint16Array,e[an]=Uint16Array,e[fn]=Uint32Array,e[un]=Uint32Array,e[sn]=Uint32Array,e[ln]=Uint32Array,e[mn]=Uint32Array}function Fe(e){if(e instanceof Int8Array)return Te;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return q;if(e instanceof Int16Array)return Ae;if(e instanceof Uint16Array)return _e;if(e instanceof Int32Array)return pe;if(e instanceof Uint32Array)return be;if(e instanceof Float32Array)return he;throw new Error("unsupported typed array type")}function yn(e){if(e===Int8Array)return Te;if(e===Uint8Array||e===Uint8ClampedArray)return q;if(e===Int16Array)return Ae;if(e===Uint16Array)return _e;if(e===Int32Array)return pe;if(e===Uint32Array)return be;if(e===Float32Array)return he;throw new Error("unsupported typed array type")}var re=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function En(...e){console.error(...e)}function Tn(e,t){return typeof WebGLBuffer<"u"&&t instanceof WebGLBuffer}function An(e,t){return typeof WebGLShader<"u"&&t instanceof WebGLShader}function We(e,t){return typeof WebGLTexture<"u"&&t instanceof WebGLTexture}var Ye=35044,V=34962,je=34963,_n=34660,pn=5120,bn=5121,hn=5122,Fn=5123,Sn=5124,Rn=5125,In=5126,Ke={attribPrefix:""};function Bn(e,t,n,c,r){e.bindBuffer(t,n),e.bufferData(t,c,r||Ye)}function Se(e,t,n,c){if(Tn(e,t))return t;n=n||V;let r=e.createBuffer();return Bn(e,n,r,t,c),r}function qe(e){return e==="indices"}function Pn(e){return e instanceof Int8Array||e instanceof Uint8Array}function Cn(e){return e===Int8Array||e===Uint8Array}function Ze(e){return e.length?e:e.data}var Nn=/coord|texture/i,wn=/color|colour/i;function Qe(e,t){let n;if(Nn.test(e)?n=2:wn.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function Je(e,t){return e.numComponents||e.size||Qe(t,Ze(e).length)}function ce(e,t){if(re(e))return e;if(re(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type;return n||(qe(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function Un(e,t){let n={};return Object.keys(t).forEach(function(c){if(!qe(c)){let r=t[c],o=r.attrib||r.name||r.attribName||Ke.attribPrefix+c;if(r.value){if(!Array.isArray(r.value)&&!re(r.value))throw new Error("array.value is not array or typedarray");n[o]={value:r.value}}else{let a,i,f,u;if(r.buffer&&r.buffer instanceof WebGLBuffer)a=r.buffer,u=r.numComponents||r.size,i=r.type,f=r.normalize;else if(typeof r=="number"||typeof r.data=="number"){let m=r.data||r,y=r.type||Float32Array,s=m*y.BYTES_PER_ELEMENT;i=yn(y),f=r.normalize!==void 0?r.normalize:Cn(y),u=r.numComponents||r.size||Qe(c,m),a=e.createBuffer(),e.bindBuffer(V,a),e.bufferData(V,s,r.drawType||Ye)}else{let m=ce(r,c);a=Se(e,m,void 0,r.drawType),i=Fe(m),f=r.normalize!==void 0?r.normalize:Pn(m),u=Je(r,c)}n[o]={buffer:a,numComponents:u,type:i,normalize:f,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),e.bindBuffer(V,null),n}function Dn(e,t){return t===pn||t===bn?1:t===hn||t===Fn?2:t===Sn||t===Rn||t===In?4:0}var j=["position","positions","a_position"];function Mn(e){let t,n;for(n=0;n<j.length&&(t=j[n],!(t in e));++n);n===j.length&&(t=Object.keys(e)[0]);let c=e[t],r=Ze(c).length,o=Je(c,t),a=r/o;if(r%o>0)throw new Error(`numComponents ${o} not correct for length ${r}`);return a}function Ln(e,t){let n,c;for(c=0;c<j.length&&(n=j[c],!(n in t||(n=Ke.attribPrefix+n,n in t)));++c);c===j.length&&(n=Object.keys(t)[0]);let r=t[n];e.bindBuffer(V,r.buffer);let o=e.getBufferParameter(V,_n);e.bindBuffer(V,null);let a=Dn(e,r.type),i=o/a,f=r.numComponents||r.size,u=i/f;if(u%1!==0)throw new Error(`numComponents ${f} not correct for length ${length}`);return u}function Re(e,t,n){let c=Un(e,t),r=Object.assign({},n||{});r.attribs=Object.assign({},n?n.attribs:{},c);let o=t.indices;if(o){let a=ce(o,"indices");r.indices=Se(e,a,je),r.numElements=a.length,r.elementType=Fe(a)}else r.numElements||(r.numElements=Ln(e,r.attribs));return r}function On(e,t,n){let c=n==="indices"?je:V,r=ce(t,n);return Se(e,r,c)}function zn(e,t){let n={};return Object.keys(t).forEach(function(c){n[c]=On(e,t[c],c)}),t.indices?(n.numElements=t.indices.length,n.elementType=Fe(ce(t.indices))):n.numElements=Mn(t),n}function Gn(e,t){let n=0;return e.push=function(){for(let c=0;c<arguments.length;++c){let r=arguments[c];if(r instanceof Array||re(r))for(let o=0;o<r.length;++o)e[n++]=r[o];else e[n++]=r}},e.reset=function(c){n=c||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function b(e,t,n){let c=n||Float32Array;return Gn(new c(e*t),e)}function Ie(e,t,n){let c=e.length,r=new Float32Array(3);for(let o=0;o<c;o+=3)n(t,[e[o],e[o+1],e[o+2]],r),e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2]}function vn(e,t,n){n=n||Ee();let c=t[0],r=t[1],o=t[2];return n[0]=c*e[0*4+0]+r*e[0*4+1]+o*e[0*4+2],n[1]=c*e[1*4+0]+r*e[1*4+1]+o*e[1*4+2],n[2]=c*e[2*4+0]+r*e[2*4+1]+o*e[2*4+2],n}function Vn(e,t){return Ie(e,t,nn),e}function gn(e,t){return Ie(e,en(t),vn),e}function dn(e,t){return Ie(e,t,tn),e}function kn(e,t){return Object.keys(e).forEach(function(n){let c=e[n];n.indexOf("pos")>=0?dn(c,t):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?Vn(c,t):n.indexOf("norm")>=0&&gn(c,t)}),e}function et(e,t,n){return e=e||2,t=t||0,n=n||0,e*=.5,{position:{numComponents:2,data:[t+-1*e,n+-1*e,t+1*e,n+-1*e,t+-1*e,n+1*e,t+1*e,n+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function tt(e,t,n,c,r){e=e||1,t=t||1,n=n||1,c=c||1,r=r||Jt();let o=(n+1)*(c+1),a=b(3,o),i=b(3,o),f=b(2,o);for(let s=0;s<=c;s++)for(let l=0;l<=n;l++){let E=l/n,x=s/c;a.push(e*E-e*.5,0,t*x-t*.5),i.push(0,1,0),f.push(E,x)}let u=n+1,m=b(3,n*c*2,Uint16Array);for(let s=0;s<c;s++)for(let l=0;l<n;l++)m.push((s+0)*u+l,(s+1)*u+l,(s+0)*u+l+1),m.push((s+1)*u+l,(s+1)*u+l+1,(s+0)*u+l+1);return kn({position:a,normal:i,texcoord:f,indices:m},r)}function nt(e,t,n,c,r,o,a){if(t<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");c=c||0,r=r||Math.PI,o=o||0,a=a||Math.PI*2;let i=r-c,f=a-o,u=(t+1)*(n+1),m=b(3,u),y=b(3,u),s=b(2,u);for(let x=0;x<=n;x++)for(let A=0;A<=t;A++){let p=A/t,h=x/n,S=f*p+o,R=i*h+c,_=Math.sin(S),F=Math.cos(S),C=Math.sin(R),I=Math.cos(R),P=F*C,w=I,M=_*C;m.push(e*P,e*w,e*M),y.push(P,w,M),s.push(1-p,h)}let l=t+1,E=b(3,t*n*2,Uint16Array);for(let x=0;x<t;x++)for(let A=0;A<n;A++)E.push((A+0)*l+x,(A+0)*l+x+1,(A+1)*l+x),E.push((A+1)*l+x,(A+0)*l+x+1,(A+1)*l+x+1);return{position:m,normal:y,texcoord:s,indices:E}}var $n=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function rt(e){e=e||1;let t=e/2,n=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],c=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],r=[[1,0],[0,0],[0,1],[1,1]],o=6*4,a=b(3,o),i=b(3,o),f=b(2,o),u=b(3,6*2,Uint16Array);for(let m=0;m<6;++m){let y=$n[m];for(let l=0;l<4;++l){let E=n[y[l]],x=c[m],A=r[l];a.push(E),i.push(x),f.push(A)}let s=4*m;u.push(s+0,s+1,s+2),u.push(s+0,s+2,s+3)}return{position:a,normal:i,texcoord:f,indices:u}}function Be(e,t,n,c,r,o,a){if(c<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<1)throw new Error("verticalSubdivisions must be 1 or greater");let i=o===void 0?!0:o,f=a===void 0?!0:a,u=(i?2:0)+(f?2:0),m=(c+1)*(r+1+u),y=b(3,m),s=b(3,m),l=b(2,m),E=b(3,c*(r+u/2)*2,Uint16Array),x=c+1,A=Math.atan2(e-t,n),p=Math.cos(A),h=Math.sin(A),S=i?-2:0,R=r+(f?2:0);for(let _=S;_<=R;++_){let F=_/r,C=n*F,I;_<0?(C=0,F=1,I=e):_>r?(C=n,F=1,I=t):I=e+(t-e)*(_/r),(_===-2||_===r+2)&&(I=0,F=0),C-=n/2;for(let P=0;P<x;++P){let w=Math.sin(P*Math.PI*2/c),M=Math.cos(P*Math.PI*2/c);y.push(w*I,C,M*I),_<0?s.push(0,-1,0):_>r?s.push(0,1,0):I===0?s.push(0,0,0):s.push(w*p,h,M*p),l.push(P/c,1-F)}}for(let _=0;_<r+u;++_)if(!(_===1&&i||_===r+u-2&&f))for(let F=0;F<c;++F)E.push(x*(_+0)+0+F,x*(_+0)+1+F,x*(_+1)+1+F),E.push(x*(_+0)+0+F,x*(_+1)+1+F,x*(_+1)+0+F);return{position:y,normal:s,texcoord:l,indices:E}}function Ve(e,t){t=t||[];let n=[];for(let c=0;c<e.length;c+=4){let r=e[c],o=e.slice(c+1,c+4);o.push.apply(o,t);for(let a=0;a<r;++a)n.push.apply(n,o)}return n}function ot(){let e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],n=Ve([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),c=Ve([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),r=e.length/3,o={position:b(3,r),texcoord:b(2,r),normal:b(3,r),color:b(4,r,Uint8Array),indices:b(3,r/3,Uint16Array)};o.position.push(e),o.texcoord.push(t),o.normal.push(n),o.color.push(c);for(let a=0;a<r;++a)o.indices.push(a);return o}function ct(e,t,n,c,r,o,a){if(r<=0)throw new Error("subdivisionDown must be > 0");o=o||0,a=a||1;let i=2,f=a-o,u=(r+1)*2*(2+i),m=b(3,u),y=b(3,u),s=b(2,u);function l(h,S,R){return h+(S-h)*R}function E(h,S,R,_,F,C){for(let I=0;I<=r;I++){let P=S/(i-1),w=I/r,M=(P-.5)*2,G=(o+w*f)*Math.PI,L=Math.sin(G),d=Math.cos(G),$=l(e,h,L),H=M*c,X=d*e,W=L*$;m.push(H,X,W);let Y=Zt(Qt([0,L,d],R),_);y.push(Y),s.push(P*F+C,w)}}for(let h=0;h<i;h++){let S=(h/(i-1)-.5)*2;E(t,h,[1,1,1],[0,0,0],1,0),E(t,h,[0,0,0],[S,0,0],0,0),E(n,h,[1,1,1],[0,0,0],1,0),E(n,h,[0,0,0],[S,0,0],0,1)}let x=b(3,r*2*(2+i),Uint16Array);function A(h,S){for(let R=0;R<r;++R)x.push(h+R+0,h+R+1,S+R+0),x.push(h+R+1,S+R+1,S+R+0)}let p=r+1;return A(p*0,p*4),A(p*5,p*7),A(p*6,p*2),A(p*3,p*1),{position:m,normal:y,texcoord:s,indices:x}}function it(e,t,n,c,r,o){return Be(e,e,t,n,c,r,o)}function at(e,t,n,c,r,o){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(c<3)throw new Error("verticalSubdivisions must be 3 or greater");r=r||0,o=o||Math.PI*2;let a=o-r,i=n+1,f=c+1,u=i*f,m=b(3,u),y=b(3,u),s=b(2,u),l=b(3,n*c*2,Uint16Array);for(let E=0;E<f;++E){let x=E/c,A=x*Math.PI*2,p=Math.sin(A),h=e+p*t,S=Math.cos(A),R=S*t;for(let _=0;_<i;++_){let F=_/n,C=r+F*a,I=Math.sin(C),P=Math.cos(C),w=I*h,M=P*h,G=I*p,L=P*p;m.push(w,R,M),y.push(G,S,L),s.push(F,1-x)}}for(let E=0;E<c;++E)for(let x=0;x<n;++x){let A=1+x,p=1+E;l.push(i*E+x,i*p+x,i*E+A),l.push(i*p+x,i*p+A,i*E+A)}return{position:m,normal:y,texcoord:s,indices:l}}function ft(e,t,n,c,r){if(t<3)throw new Error("divisions must be at least 3");n=n||1,r=r||1,c=c||0;let o=(t+1)*(n+1),a=b(3,o),i=b(3,o),f=b(2,o),u=b(3,n*t*2,Uint16Array),m=0,y=e-c,s=t+1;for(let l=0;l<=n;++l){let E=c+y*Math.pow(l/n,r);for(let x=0;x<=t;++x){let A=2*Math.PI*x/t,p=E*Math.cos(A),h=E*Math.sin(A);if(a.push(p,0,h),i.push(0,1,0),f.push(1-x/t,l/n),l>0&&x!==t){let S=m+(x+1),R=m+x,_=m+x-s,F=m+(x+1)-s;u.push(S,R,_),u.push(S,_,F)}}m+=t+1}return{position:a,normal:i,texcoord:f,indices:u}}function O(e){return function(t){let n=e.apply(this,Array.prototype.slice.call(arguments,1));return zn(t,n)}}function z(e){return function(t){let n=e.apply(null,Array.prototype.slice.call(arguments,1));return Re(t,n)}}var So=z(ot),Ro=O(ot),Io=z(rt),Bo=O(rt),Po=z(tt),Co=O(tt),No=z(nt),wo=O(nt),Uo=z(Be),Do=O(Be),Mo=z(et),Lo=O(et),Oo=z(ct),zo=O(ct),Go=z(it),vo=O(it),Vo=z(at),go=O(at),ko=z(ft),$o=O(ft);function Pe(e){return!!e.texStorage2D}var ut=function(){let e={},t={};function n(c){let r=c.constructor.name;if(!e[r]){for(let o in c)if(typeof c[o]=="number"){let a=t[c[o]];t[c[o]]=a?`${a} | ${o}`:o}e[r]=!0}}return function(r,o){return n(r),t[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}}();var Ho={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0};var Xo=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),Hn=6406,ge=6407,de=6408,Xn=6409,Wn=6410,Yn=6402,jn=34041;var Kn=33319,qn=33320,Zn=6403,Qn=36244,Jn=36248,er=36249,tr={};{let e=tr;e[Hn]={numColorComponents:1},e[Xn]={numColorComponents:1},e[Wn]={numColorComponents:2},e[ge]={numColorComponents:3},e[de]={numColorComponents:4},e[Zn]={numColorComponents:1},e[Qn]={numColorComponents:1},e[Kn]={numColorComponents:2},e[qn]={numColorComponents:2},e[ge]={numColorComponents:3},e[Jn]={numColorComponents:3},e[de]={numColorComponents:4},e[er]={numColorComponents:4},e[Yn]={numColorComponents:1},e[jn]={numColorComponents:2}}var st=En;function lt(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}var oe=33984;var ie=34962,nr=34963;var rr=35713,or=35714,cr=35632,ir=35633,ar=35981,mt=35718,fr=35721,ur=35971,sr=35382,lr=35396,mr=35398,xr=35392,yr=35395,ae=5126,xt=35664,yt=35665,Et=35666,Ce=5124,Tt=35667,At=35668,_t=35669,pt=35670,bt=35671,ht=35672,Ft=35673,St=35674,Rt=35675,It=35676,Er=35678,Tr=35680,Ar=35679,_r=35682,pr=35685,br=35686,hr=35687,Fr=35688,Sr=35689,Rr=35690,Ir=36289,Br=36292,Pr=36293,Ne=5125,Bt=36294,Pt=36295,Ct=36296,Cr=36298,Nr=36299,wr=36300,Ur=36303,Dr=36306,Mr=36307,Lr=36308,Or=36311,fe=3553,ue=34067,we=32879,se=35866,T={};function Nt(e,t){return T[t].bindPoint}function zr(e,t){return function(n){e.uniform1f(t,n)}}function Gr(e,t){return function(n){e.uniform1fv(t,n)}}function vr(e,t){return function(n){e.uniform2fv(t,n)}}function Vr(e,t){return function(n){e.uniform3fv(t,n)}}function gr(e,t){return function(n){e.uniform4fv(t,n)}}function wt(e,t){return function(n){e.uniform1i(t,n)}}function Ut(e,t){return function(n){e.uniform1iv(t,n)}}function Dt(e,t){return function(n){e.uniform2iv(t,n)}}function Mt(e,t){return function(n){e.uniform3iv(t,n)}}function Lt(e,t){return function(n){e.uniform4iv(t,n)}}function dr(e,t){return function(n){e.uniform1ui(t,n)}}function kr(e,t){return function(n){e.uniform1uiv(t,n)}}function $r(e,t){return function(n){e.uniform2uiv(t,n)}}function Hr(e,t){return function(n){e.uniform3uiv(t,n)}}function Xr(e,t){return function(n){e.uniform4uiv(t,n)}}function Wr(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function Yr(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function jr(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function Kr(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function qr(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function Zr(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function Qr(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function Jr(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function eo(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function U(e,t,n,c){let r=Nt(e,t);return Pe(e)?function(o){let a,i;We(e,o)?(a=o,i=null):(a=o.texture,i=o.sampler),e.uniform1i(c,n),e.activeTexture(oe+n),e.bindTexture(r,a),e.bindSampler(n,i)}:function(o){e.uniform1i(c,n),e.activeTexture(oe+n),e.bindTexture(r,o)}}function D(e,t,n,c,r){let o=Nt(e,t),a=new Int32Array(r);for(let i=0;i<r;++i)a[i]=n+i;return Pe(e)?function(i){e.uniform1iv(c,a),i.forEach(function(f,u){e.activeTexture(oe+a[u]);let m,y;We(e,f)?(m=f,y=null):(m=f.texture,y=f.sampler),e.bindSampler(n,y),e.bindTexture(o,m)})}:function(i){e.uniform1iv(c,a),i.forEach(function(f,u){e.activeTexture(oe+a[u]),e.bindTexture(o,f)})}}T[ae]={Type:Float32Array,size:4,setter:zr,arraySetter:Gr};T[xt]={Type:Float32Array,size:8,setter:vr,cols:2};T[yt]={Type:Float32Array,size:12,setter:Vr,cols:3};T[Et]={Type:Float32Array,size:16,setter:gr,cols:4};T[Ce]={Type:Int32Array,size:4,setter:wt,arraySetter:Ut};T[Tt]={Type:Int32Array,size:8,setter:Dt,cols:2};T[At]={Type:Int32Array,size:12,setter:Mt,cols:3};T[_t]={Type:Int32Array,size:16,setter:Lt,cols:4};T[Ne]={Type:Uint32Array,size:4,setter:dr,arraySetter:kr};T[Bt]={Type:Uint32Array,size:8,setter:$r,cols:2};T[Pt]={Type:Uint32Array,size:12,setter:Hr,cols:3};T[Ct]={Type:Uint32Array,size:16,setter:Xr,cols:4};T[pt]={Type:Uint32Array,size:4,setter:wt,arraySetter:Ut};T[bt]={Type:Uint32Array,size:8,setter:Dt,cols:2};T[ht]={Type:Uint32Array,size:12,setter:Mt,cols:3};T[Ft]={Type:Uint32Array,size:16,setter:Lt,cols:4};T[St]={Type:Float32Array,size:32,setter:Wr,rows:2,cols:2};T[Rt]={Type:Float32Array,size:48,setter:Yr,rows:3,cols:3};T[It]={Type:Float32Array,size:64,setter:jr,rows:4,cols:4};T[pr]={Type:Float32Array,size:32,setter:Kr,rows:2,cols:3};T[br]={Type:Float32Array,size:32,setter:Zr,rows:2,cols:4};T[hr]={Type:Float32Array,size:48,setter:qr,rows:3,cols:2};T[Fr]={Type:Float32Array,size:48,setter:Jr,rows:3,cols:4};T[Sr]={Type:Float32Array,size:64,setter:Qr,rows:4,cols:2};T[Rr]={Type:Float32Array,size:64,setter:eo,rows:4,cols:3};T[Er]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Tr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Ar]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:we};T[_r]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Ir]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[Br]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[Pr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Cr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Nr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:we};T[wr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Ur]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[Dr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Mr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:we};T[Lr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Or]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};function le(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||ae,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function g(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Ce,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function me(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Ne,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Ue(e,t,n){let c=n.size,r=n.count;return function(o){e.bindBuffer(ie,o.buffer);let a=o.size||o.numComponents||c,i=a/r,f=o.type||ae,m=T[f].size*a,y=o.normalize||!1,s=o.offset||0,l=m/r;for(let E=0;E<r;++E)e.enableVertexAttribArray(t+E),e.vertexAttribPointer(t+E,i,f,y,m,s+l*E),o.divisor!==void 0&&e.vertexAttribDivisor(t+E,o.divisor)}}var B={};B[ae]={size:4,setter:le};B[xt]={size:8,setter:le};B[yt]={size:12,setter:le};B[Et]={size:16,setter:le};B[Ce]={size:4,setter:g};B[Tt]={size:8,setter:g};B[At]={size:12,setter:g};B[_t]={size:16,setter:g};B[Ne]={size:4,setter:me};B[Bt]={size:8,setter:me};B[Pt]={size:12,setter:me};B[Ct]={size:16,setter:me};B[pt]={size:4,setter:g};B[bt]={size:8,setter:g};B[ht]={size:12,setter:g};B[Ft]={size:16,setter:g};B[St]={size:4,setter:Ue,count:2};B[Rt]={size:9,setter:Ue,count:3};B[It]={size:16,setter:Ue,count:4};var to=/ERROR:\s*\d+:(\d+)/gi;function Ot(e,t="",n=0){let c=[...t.matchAll(to)],r=new Map(c.map((o,a)=>{let i=parseInt(o[1]),f=c[a+1],u=f?f.index:t.length,m=t.substring(o.index,u);return[i-1,m]}));return e.split(`
`).map((o,a)=>{let i=r.get(a);return`${a+1+n}: ${o}${i?`

^^^ ${i}`:""}`}).join(`
`)}var ke=/^[ \t]*\n/;function zt(e,t,n,c){let r=c||st,o=e.createShader(n),a=0;if(ke.test(t)&&(a=1,t=t.replace(ke,"")),e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,rr)){let f=e.getShaderInfoLog(o);return r(`${Ot(t,f,a)}
Error compiling ${ut(e,n)}: ${f}`),e.deleteShader(o),null}return o}function De(e,t,n){let c,r;if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function")n=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;let a=e;n=a.errorCallback,e=a.attribLocations,c=a.transformFeedbackVaryings,r=a.transformFeedbackMode}let o={errorCallback:n||st,transformFeedbackVaryings:c,transformFeedbackMode:r};if(e){let a={};Array.isArray(e)?e.forEach(function(i,f){a[i]=t?t[f]:f}):a=e,o.attribLocations=a}return o}var Gt=["VERTEX_SHADER","FRAGMENT_SHADER"];function no(e,t){if(t.indexOf("frag")>=0)return cr;if(t.indexOf("vert")>=0)return ir}function $e(e,t){t.forEach(function(n){e.deleteShader(n)})}function ro(e,t,n,c,r){let o=De(n,c,r),a=[],i=[];for(let y=0;y<t.length;++y){let s=t[y];if(typeof s=="string"){let l=lt(s),E=l?l.text:s,x=e[Gt[y]];l&&l.type&&(x=no(e,l.type)||x),s=zt(e,E,x,o.errorCallback),i.push(s)}An(e,s)&&a.push(s)}if(a.length!==t.length)return o.errorCallback("not enough shaders for program"),$e(e,i),null;let f=e.createProgram();a.forEach(function(y){e.attachShader(f,y)}),o.attribLocations&&Object.keys(o.attribLocations).forEach(function(y){e.bindAttribLocation(f,o.attribLocations[y],y)});let u=o.transformFeedbackVaryings;if(u&&(u.attribs&&(u=u.attribs),Array.isArray(u)||(u=Object.keys(u)),e.transformFeedbackVaryings(f,u,o.transformFeedbackMode||ar)),e.linkProgram(f),!e.getProgramParameter(f,or)){let y=e.getProgramInfoLog(f);return o.errorCallback(`${a.map(s=>{let l=Ot(e.getShaderSource(s),"",0),E=e.getShaderParameter(s,e.SHADER_TYPE);return`${ut(e,E)}
${l}}`}).join(`
`)}
Error in program linking: ${y}`),e.deleteProgram(f),$e(e,i),null}return f}function oo(e,t,n,c,r){let o=De(n,c,r),a=[];for(let i=0;i<t.length;++i){let f=zt(e,t[i],e[Gt[i]],o.errorCallback);if(!f)return null;a.push(f)}return ro(e,a,o)}function vt(e){let t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}var co=/(\.|\[|]|\w+)/g,io=e=>e>="0"&&e<="9";function ao(e,t,n,c){let r=e.split(co).filter(i=>i!==""),o=0,a="";for(;;){let i=r[o++];a+=i;let f=io(i[0]),u=f?parseInt(i):i;if(f&&(a+=r[o++]),o===r.length){n[u]=t;break}else{let y=r[o++],s=y==="[",l=n[u]||(s?[]:{});n[u]=l,n=l,c[a]=c[a]||function(E){return function(x){Vt(E,x)}}(l),a+=y}}}function fo(e,t){let n=0;function c(i,f,u){let m=f.name.endsWith("[0]"),y=f.type,s=T[y];if(!s)throw new Error(`unknown type: 0x${y.toString(16)}`);let l;if(s.bindPoint){let E=n;n+=f.size,m?l=s.arraySetter(e,y,E,u,f.size):l=s.setter(e,y,E,u,f.size)}else s.arraySetter&&m?l=s.arraySetter(e,u):l=s.setter(e,u);return l.location=u,l}let r={},o={},a=e.getProgramParameter(t,mt);for(let i=0;i<a;++i){let f=e.getActiveUniform(t,i);if(vt(f))continue;let u=f.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));let m=e.getUniformLocation(t,f.name);if(m){let y=c(t,f,m);r[u]=y,ao(u,y,o,r)}}return r}function uo(e,t){let n={},c=e.getProgramParameter(t,ur);for(let r=0;r<c;++r){let o=e.getTransformFeedbackVarying(t,r);n[o.name]={index:r,type:o.type,size:o.size}}return n}function so(e,t){let n=e.getProgramParameter(t,mt),c=[],r=[];for(let i=0;i<n;++i){r.push(i),c.push({});let f=e.getActiveUniform(t,i);c[i].name=f.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(i){let f=i[0],u=i[1];e.getActiveUniforms(t,r,e[f]).forEach(function(m,y){c[y][u]=m})});let o={},a=e.getProgramParameter(t,sr);for(let i=0;i<a;++i){let f=e.getActiveUniformBlockName(t,i),u={index:e.getUniformBlockIndex(t,f),usedByVertexShader:e.getActiveUniformBlockParameter(t,i,lr),usedByFragmentShader:e.getActiveUniformBlockParameter(t,i,mr),size:e.getActiveUniformBlockParameter(t,i,xr),uniformIndices:e.getActiveUniformBlockParameter(t,i,yr)};u.used=u.usedByVertexShader||u.usedByFragmentShader,o[f]=u}return{blockSpecs:o,uniformData:c}}function Vt(e,t){for(let n in t){let c=e[n];typeof c=="function"?c(t[n]):Vt(e[n],t[n])}}function Me(e,...t){let n=e.uniformSetters||e,c=t.length;for(let r=0;r<c;++r){let o=t[r];if(Array.isArray(o)){let a=o.length;for(let i=0;i<a;++i)Me(n,o[i])}else for(let a in o){let i=n[a];i&&i(o[a])}}}function lo(e,t){let n={},c=e.getProgramParameter(t,fr);for(let r=0;r<c;++r){let o=e.getActiveAttrib(t,r);if(vt(o))continue;let a=e.getAttribLocation(t,o.name),i=B[o.type],f=i.setter(e,a,i);f.location=a,n[o.name]=f}return n}function mo(e,t){for(let n in t){let c=e[n];c&&c(t[n])}}function gt(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(mo(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(nr,n.indices))}function xo(e,t){let n=fo(e,t),c=lo(e,t),r={program:t,uniformSetters:n,attribSetters:c};return Pe(e)&&(r.uniformBlockSpec=so(e,t),r.transformFeedbackInfo=uo(e,t)),r}function dt(e,t,n,c,r){let o=De(n,c,r),a=!0;if(t=t.map(function(f){if(f.indexOf(`
`)<0){let u=lt(f);u?f=u.text:(o.errorCallback("no element with id: "+f),a=!1)}return f}),!a)return null;let i=oo(e,t,o);return i?xo(e,i):null}var yo=4,He=5123;function kt(e,t,n,c,r,o){n=n===void 0?yo:n;let a=t.indices,i=t.elementType,f=c===void 0?t.numElements:c;r=r===void 0?0:r,i||a?o!==void 0?e.drawElementsInstanced(n,f,i===void 0?He:t.elementType,r,o):e.drawElements(n,f,i===void 0?He:t.elementType,r):o!==void 0?e.drawArraysInstanced(n,r,f,o):e.drawArrays(n,r,f)}var Eo=6402;var To=33190,Ao=36012,_o=35056,po=36013,bo=32854,ho=32855,Fo=36194,$t=33189,Ht=6401,Xt=36168,Wt=34041;var xe=36096,Yt=36128,Le=33306;var v={};v[Wt]=Le;v[Ht]=Yt;v[Xt]=Yt;v[Eo]=xe;v[$t]=xe;v[To]=xe;v[Ao]=xe;v[_o]=Le;v[po]=Le;var k={};k[bo]=!0;k[ho]=!0;k[Fo]=!0;k[Wt]=!0;k[$t]=!0;k[Ht]=!0;k[Xt]=!0;function jt(e,t){t=t||1,t=Math.max(0,t);let n=e.clientWidth*t|0,c=e.clientHeight*t|0;return e.width!==n||e.height!==c?(e.width=n,e.height=c,!0):!1}var Kt="uniform float g;uniform vec3 j;vec3 k(vec3 e,vec3 a,vec3 f,vec3 b,vec3 c){vec3 d=e-f;return vec3(dot(cross(b,c),d),dot(cross(d,b),a),dot(cross(c,d),a))/dot(cross(c,b),a);}vec3 l(float a){return fract(sin(vec3(a,a+1.,a+2.))*vec3(43758.545312,12578.145912,19642.349042));}vec3 n(vec4 a){float c=length(a.yz),f=atan(a.y,a.z)+.6*g,d=sin(5.*f);vec3 e=.5+.5*sin(a.w/32.*3.5+vec3(0.,1.,2.)),b=vec3(0.);b+=e*1.*(1.-smoothstep(0.,.03,abs(c-.8)))*(.5+.5*d),b+=e*.7*(1.-smoothstep(0.,.2,abs(c-.8)))*(.5+.5*d),b+=e*.5*(1.-smoothstep(.05,.1,abs(c-.5)))*(.5+.5*d);return b*.3;}vec3 m(vec3 e,vec3 f){vec3 h=vec3(0.);for(float a=0.;a<25.;a++){vec3 b=1.5*(-1.+2.*l(a*3.1415/1.5));if(a==1.)b+=1.4;vec3 c=normalize(b.zxy),i=normalize(cross(c,vec3(0.,1.,0.))),d=k(e,f,b,c,i);if(dot(d.yz,d.yz)<1.&&d.x>0.)h+=n(vec4(d,a*3.1415));}return h;}void o(out vec4 p,vec2 e){vec2 b=(2.*e-j.xy)/j.y;vec3 c=1.5*vec3(cos(.05*g),0.,sin(.05*g)),f=vec3(0.,0.,0.),a=normalize(f-c),d=normalize(cross(a,vec3(0.,1.,0.))),h=normalize(cross(d,a)),i=normalize(b.x*d+b.y*h+1.*a),q=m(c,i);p=vec4(q,1.);}void main(){o(gl_FragColor,gl_FragCoord.xy);}",qt="attribute vec3 r;void main(){gl_Position=vec4(r,1.);}",K={iTime:"g",iResolution:"j",position:"r"};(()=>{let e=document.getElementById("mtw-canvas");e.style.backgroundColor="black";let t=e.getContext("webgl"),n=`
`+qt,c=`
#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
`+Kt,r=dt(t,[n,c]);t.useProgram(r.program);let o={[K.position]:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]},a=Re(t,o);gt(t,r,a);let i={[K.iTime]:0,[K.iResolution]:[]},f=Math.floor(Math.random()*100);function u(){i[K.iTime]=f+performance.now()/4500,i[K.iResolution]=[e.clientWidth,e.clientHeight,1],jt(t.canvas),t.viewport(0,0,e.clientWidth,e.clientHeight),Me(r,i),kt(t,a),setTimeout(()=>requestAnimationFrame(u),100)}requestAnimationFrame(u)})();})();
/* @license twgl.js 4.21.2 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */
/*! MTW-CANVAS-DISKS: MAIN.JS
 * 
 * Author: sitdisch
 * Source: https://github.com/mythemeway
 * License: MIT
 * Copyright: © 2022 sitdisch
 *
 * FRAGMENT SHADER IS BASED ON:
 * 
 * Shadertoy: CoordSys - intersection
 * 
 * Original Author: Inigo Quilez
 * Source: https://www.shadertoy.com/view/lsfGDB
 * License: MIT
 * Copyright: © 2013 Inigo Quilez
 * Changes: made
 */
